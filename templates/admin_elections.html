{% extends "base.html" %}

{% block title %}Admin Elections{% endblock %}

{% block content %}
<h1>Admin Elections</h1>
<table border="1">
    <tr>
        <th>Election Type</th>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Total Voters</th>
        <th>Votes Cast</th>
        <th>Actions</th>
    </tr>
    {% for data in election_data %}
        <tr>
            <td>{{ data.election.type }}</td>
            <td>{{ data.election.start_date }}</td>
            <td>{{ data.election.end_date }}</td>
            <td>{{ data.total_voters }}</td>
            <td>{{ data.votes_cast }}</td>
            <td>
                <form method="post" style="display: inline;">
                    {% csrf_token %}
                    <button type="submit" name="end_election" value="{{ data.election.id_election }}">End Election Early</button>
                </form>
                <form method="get" action="{% url 'admin_eligible' data.election.id_election %}" style="display: inline;">
                    <button type="submit">Manage Voters</button>
                </form>
                <form method="post" style="display: inline;">
                    {% csrf_token %}
                    <button type="submit" name="generate_report" value="{{ data.election.id_election }}">Generate Report</button>
                </form>
            </td>
        </tr>
    {% endfor %}
</table>
{% endblock %}
